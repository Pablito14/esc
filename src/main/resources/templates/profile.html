<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Esc | Plan Your Escape</title>
    <div th:replace="~{fragments :: head}"></div>
</head>
<body>

    <div th:replace="~{fragments :: header}"></div>

    <main>
        <div class="container" id="user-form">
            <h2>Create New Message</h2>
            <form action="/messages" method="POST">
                <div class="form-group">
                    <label for="day">Day to Send</label>
                    <input type="date" name="day" id="day" class="form-control" required />
                </div>
                <div class="form-group">
                    <label for="time">Time to Send</label>
                    <input type="time" name="time" id="time" class="form-control" required />
                </div>
                <div class="form-group">
                    <label for="rawMessage">Message</label>
                    <textarea name="rawMessage" id="rawMessage" class="form-control" required></textarea>
                </div>
                <button type="submit" class="btn btn-primary">Submit</button>
            </form>
        </div>
        <div class="container" id="messages-box" style="grid-column: 2; grid-row: 2;">
            <h2>Upcoming Messages</h2>
            <ul id="message-list" style="height: 500px; overflow: scroll;">
                <li th:each="m : ${messages}">
                    <div class="message" style="background: #b3b3b3aa;">
                        <p>Time: <span class="logo-text" th:text="${m.sendTimestamp}"></span></p>

                        <p th:text="${m.message}"></p>
                    </div>
                </li>
            </ul>
        </div>
    </main>

    <div th:replace="~{fragments :: scripts}"></div>

</body>
</html>